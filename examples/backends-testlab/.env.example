# ═══════════════════════════════════════════════════════════════════════════════
# Zerobyte Backends Test Lab
# ═══════════════════════════════════════════════════════════════════════════════
# All credentials below are TEST-ONLY defaults for local emulators.
# Copy this file to .env before starting: cp .env.example .env
#
# In the Zerobyte UI, use env://VAR_NAME placeholders (e.g. env://SMB_PASSWORD)
# to reference these values without storing them in the database.
# ═══════════════════════════════════════════════════════════════════════════════

TZ=UTC

# ╔═══════════════════════════════════════════════════════════════════════════════
# ║ VOLUME BACKENDS (sources to back up)
# ╚═══════════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────────
# Directory (local bind mount) — no credentials
# ───────────────────────────────────────────────────────────────────────────────
# In Zerobyte: Type=Directory, Path=/testdata

# ───────────────────────────────────────────────────────────────────────────────
# SMB
# ───────────────────────────────────────────────────────────────────────────────
# Required: Server, Share, Username, Password
# Optional: Port (default 445), Version (default 3.0), Domain, ReadOnly
#
# In Zerobyte: Type=SMB, Server=smb, Share=data
#              Username=env://SMB_USER, Password=env://SMB_PASSWORD
SMB_USER=backup
SMB_PASSWORD=backup123

# ───────────────────────────────────────────────────────────────────────────────
# WebDAV (volume)
# ───────────────────────────────────────────────────────────────────────────────
# Required: Server, Path
# Optional: Username, Password (for anonymous access), Port (default 80), SSL, ReadOnly
#
# In Zerobyte: Type=WebDAV, Server=webdav-vol, Path=/, Port=6065
#              Username=env://WEBDAV_VOL_USER, Password=env://WEBDAV_VOL_PASSWORD
WEBDAV_VOL_USER=webdav
WEBDAV_VOL_PASSWORD=webdav123

# ───────────────────────────────────────────────────────────────────────────────
# NFS (Linux hosts only — no credentials, uses IP allow-list)
# ───────────────────────────────────────────────────────────────────────────────
# Required: Server, Export Path, Version (must be '3', '4', or '4.1')
# Optional: Port (default 2049), ReadOnly
#
# In Zerobyte: Type=NFS, Server=nfs, Export Path=/data, Version=4

# ╔═══════════════════════════════════════════════════════════════════════════════
# ║ REPOSITORY BACKENDS (backup targets)
# ╚═══════════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────────
# Local — no credentials
# ───────────────────────────────────────────────────────────────────────────────
# In Zerobyte: Type=Local, Name=(any name)

# ───────────────────────────────────────────────────────────────────────────────
# S3 (MinIO)
# ───────────────────────────────────────────────────────────────────────────────
# Required: Endpoint, Bucket, Access Key ID, Secret Access Key
#
# In Zerobyte: Type=S3, Endpoint=http://minio:9000, Bucket=zerobyte
#              Access Key ID=env://S3_ACCESS_KEY_ID, Secret Access Key=env://S3_SECRET_ACCESS_KEY
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin

# ───────────────────────────────────────────────────────────────────────────────
# R2 (Cloudflare R2 — emulated via MinIO, same S3 API)
# ───────────────────────────────────────────────────────────────────────────────
# Required: Endpoint, Bucket, Access Key ID, Secret Access Key
#
# In Zerobyte: Type=R2, Endpoint=http://minio:9000, Bucket=zerobyte-r2
#              Access Key ID=env://R2_ACCESS_KEY_ID, Secret Access Key=env://R2_SECRET_ACCESS_KEY
R2_ACCESS_KEY_ID=minioadmin
R2_SECRET_ACCESS_KEY=minioadmin

# ───────────────────────────────────────────────────────────────────────────────
# Azure Blob (Azurite emulator)
# ───────────────────────────────────────────────────────────────────────────────
# Required: Container, Account Name, Account Key
# Optional: Endpoint Suffix (for emulators or custom endpoints)
#
# In Zerobyte: Type=Azure, Container=zerobyte
#              Account Name=env://AZURE_ACCOUNT_NAME, Account Key=env://AZURE_ACCOUNT_KEY
#              Endpoint Suffix=azurite:10000
# Note: This is the well-known Azurite dev key — it is not a secret.
AZURE_ACCOUNT_NAME=devstoreaccount1
AZURE_ACCOUNT_KEY=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==

# ───────────────────────────────────────────────────────────────────────────────
# GCS (fake-gcs-server emulator)
# ───────────────────────────────────────────────────────────────────────────────
# Required: Bucket, Project ID, Credentials JSON
#
# In Zerobyte: Type=GCS, Bucket=zerobyte, Project ID=env://GCS_PROJECT_ID
#              Credentials JSON=env://GCS_CREDENTIALS_JSON
# Note: fake-gcs-server accepts dummy credentials
GCS_PROJECT_ID=test-project
GCS_CREDENTIALS_JSON={"type":"service_account","project_id":"test-project"}

# ───────────────────────────────────────────────────────────────────────────────
# REST (Restic REST Server)
# ───────────────────────────────────────────────────────────────────────────────
# Required: URL
# Optional: Username, Password (for anonymous access), Path
#
# In Zerobyte: Type=REST, URL=http://rest-server:8000
#              Username=env://REST_USER (optional), Password=env://REST_PASSWORD (optional)
# Note: The rest-server container runs with --no-auth by default
REST_USER=
REST_PASSWORD=

# ───────────────────────────────────────────────────────────────────────────────
# SFTP
# ───────────────────────────────────────────────────────────────────────────────
# Required: Host, User, Path, Private Key
# Optional: Port (default 22)
#
# In Zerobyte: Type=SFTP, Host=sftp, User=env://SFTP_USER, Path=/upload
#              Private Key=file://sftp_key
#
# ⚠️  Zerobyte only supports SSH key authentication for SFTP — NOT password auth.
#     The SSH key pair is auto-generated by the sftp-keygen init container and
#     shared via the sftp-keys volume:
#       - Private key: /run/secrets/sftp_key (mounted in Zerobyte)
#       - Public key:  mounted in SFTP server's authorized_keys
#
SFTP_USER=backup

# ╔═══════════════════════════════════════════════════════════════════════════════
# ║ RCLONE BACKENDS (uses rclone.conf for remote definitions)
# ╚═══════════════════════════════════════════════════════════════════════════════
# Rclone remotes are defined in rclone.conf (mounted into Zerobyte).
# These credentials are used by the WebDAV server that rclone connects to.

# ───────────────────────────────────────────────────────────────────────────────
# WebDAV server for rclone
# ───────────────────────────────────────────────────────────────────────────────
# The rclone.conf file contains an obscured version of this password.
# If you change this, regenerate with: rclone obscure <new_password>
RCLONE_WEBDAV_USER=rclone
RCLONE_WEBDAV_PASSWORD=rclone123

# ───────────────────────────────────────────────────────────────────────────────
# Rclone volume backend
# ───────────────────────────────────────────────────────────────────────────────
# Required: Remote (from rclone.conf), Path
# Optional: ReadOnly
#
# In Zerobyte: Type=rclone, Remote=testlab-s3, Path=zerobyte-rclone
#              (or Remote=testlab-webdav, Path=/)
#
# Available remotes in rclone.conf:
#   - testlab-s3      → MinIO S3 (bucket: zerobyte-rclone)
#   - testlab-webdav  → WebDAV server
#   - testlab-sftp    → SFTP server (path: /upload)

# ───────────────────────────────────────────────────────────────────────────────
# Rclone repository backend
# ───────────────────────────────────────────────────────────────────────────────
# Required: Remote (from rclone.conf), Path
#
# In Zerobyte: Type=rclone, Remote=testlab-s3, Path=zerobyte-rclone-repo
#              (or Remote=testlab-webdav, Path=/restic-repo)
