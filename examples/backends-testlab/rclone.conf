# ═══════════════════════════════════════════════════════════════════════════════
# Rclone Configuration for Backends Test Lab
# ═══════════════════════════════════════════════════════════════════════════════
# This file is mounted into Zerobyte at /root/.config/rclone/rclone.conf
# Each remote below points to an emulator in the Docker Compose stack.
#
# Use these remotes in Zerobyte's rclone volume/repository configuration.
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────────
# S3 remote → MinIO
# ─────────────────────────────────────────────────────────────────────────────────
# For rclone volume:  remote=testlab-s3, path=zerobyte-rclone
# For rclone repo:    remote=testlab-s3, path=zerobyte-rclone-repo
[testlab-s3]
type = s3
provider = Minio
endpoint = http://minio:9000
access_key_id = minioadmin
secret_access_key = minioadmin
acl = private

# ─────────────────────────────────────────────────────────────────────────────────
# WebDAV remote → WebDAV server (for rclone)
# ─────────────────────────────────────────────────────────────────────────────────
# For rclone volume:  remote=testlab-webdav, path=/
# For rclone repo:    remote=testlab-webdav, path=/restic-repo
[testlab-webdav]
type = webdav
url = http://webdav-rclone:6065
vendor = other
user = rclone
pass = oBKqbNTRqUAGs1Y2CZaJHg

# Note: The password above is "rclone123" obscured with `rclone obscure`.
# Rclone requires passwords to be obscured in the config file.
# Generate with: rclone obscure <password>

# ─────────────────────────────────────────────────────────────────────────────────
# SFTP remote → SFTP server
# ─────────────────────────────────────────────────────────────────────────────────
# For rclone volume:  remote=testlab-sftp, path=/upload
# For rclone repo:    remote=testlab-sftp, path=/upload/restic-repo
[testlab-sftp]
type = sftp
host = sftp
user = backup
port = 22
key_file = /run/secrets/sftp_key
