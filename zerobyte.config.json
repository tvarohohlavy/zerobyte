{
  "volumes": [
    {
      "name": "local-volume",
      "config": {
        "backend": "directory",
        "path": "/mydata",
        "readOnly": true
      }
    },
    {
      "name": "nfs-volume",
      "config": {
        "backend": "nfs",
        "server": "nfs.example.com",
        "exportPath": "/data",
        "port": 2049,
        "version": "4",
        "readOnly": false
      }
    },
    {
      "name": "smb-volume",
      "config": {
        "backend": "smb",
        "server": "smb.example.com",
        "share": "shared",
        "username": "user",
        "password": "${SMB_PASSWORD}",
        "vers": "3.0",
        "domain": "WORKGROUP",
        "port": 445,
        "readOnly": false
      }
    },
    {
      "name": "webdav-volume",
      "config": {
        "backend": "webdav",
        "server": "webdav.example.com",
        "path": "/remote.php/webdav",
        "username": "user",
        "password": "${WEBDAV_PASSWORD}",
        "port": 80,
        "readOnly": false,
        "ssl": true
      }
    },
    {
      "name": "sftp-volume",
      "config": {
        "backend": "sftp",
        "host": "sftp.example.com",
        "port": 22,
        "username": "user",
        "password": "${SFTP_PASSWORD}",
        "privateKey": "${SFTP_PRIVATE_KEY}",
        "path": "/data",
        "readOnly": false
      }
    }
  ],
  "repositories": [
    {
      "name": "local-repo",
      "config": {
        "backend": "local",
        "path": "/var/lib/zerobyte/repositories"
      },
      "compressionMode": "auto"
    },
    {
      "name": "s3-repo",
      "config": {
        "backend": "s3",
        "bucket": "mybucket",
        "accessKeyId": "${ACCESS_KEY_ID}",
        "secretAccessKey": "${SECRET_ACCESS_KEY}"
      },
      "compressionMode": "auto"
    },
    {
      "name": "gcs-repo",
      "config": {
        "backend": "gcs",
        "bucket": "mybucket",
        "projectId": "my-gcp-project",
        "credentialsJson": "${GCS_CREDENTIALS}"
      }
    },
    {
      "name": "azure-repo",
      "config": {
        "backend": "azure",
        "container": "mycontainer",
        "accountName": "myaccount",
        "accountKey": "${AZURE_KEY}"
      }
    },
    {
      "name": "rclone-repo",
      "config": {
        "backend": "rclone",
        "remote": "myremote",
        "path": "backups/zerobyte"
      }
    },
    {
      "name": "webdav-repo",
      "config": {
        "backend": "webdav",
        "server": "webdav.example.com",
        "path": "/remote.php/webdav",
        "username": "user",
        "password": "${WEBDAV_PASSWORD}",
        "port": 80,
        "ssl": true
      }
    },
    {
      "name": "sftp-repo",
      "config": {
        "backend": "sftp",
        "host": "sftp.example.com",
        "port": 22,
        "username": "user",
        "password": "${SFTP_PASSWORD}",
        "privateKey": "${SFTP_PRIVATE_KEY}",
        "path": "/backups"
      }
    }
  ],
  "backupSchedules": [
    {
      "volume": "local-volume",
      "repository": "local-repo",
      "cronExpression": "0 2 * * *",
      "retentionPolicy": { "keepLast": 7, "keepDaily": 7 },
      "includePatterns": ["important-folder"],
      "excludePatterns": ["*.tmp", "*.log"],
      "enabled": true,
      "notifications": ["slack-alerts", "email-admin", "discord-backups", "gotify-notify", "ntfy-notify", "pushover-notify", "custom-shoutrrr"]
    }
  ],
  "notificationDestinations": [
    {
      "name": "slack-alerts",
      "type": "slack",
      "config": {
        "webhookUrl": "${SLACK_WEBHOOK_URL}",
        "channel": "#backups",
        "username": "zerobyte",
        "iconEmoji": ":floppy_disk:"
      }
    },
    {
      "name": "email-admin",
      "type": "email",
      "config": {
        "smtpHost": "smtp.example.com",
        "smtpPort": 587,
        "username": "admin@example.com",
        "password": "${EMAIL_PASSWORD}",
        "from": "zerobyte@example.com",
        "to": ["admin@example.com"],
        "useTLS": true
      }
    },
    {
      "name": "discord-backups",
      "type": "discord",
      "config": {
        "webhookUrl": "${DISCORD_WEBHOOK_URL}",
        "username": "zerobyte",
        "avatarUrl": "https://example.com/avatar.png",
        "threadId": "1234567890"
      }
    },
    {
      "name": "gotify-notify",
      "type": "gotify",
      "config": {
        "serverUrl": "https://gotify.example.com",
        "token": "${GOTIFY_TOKEN}",
        "path": "/message",
        "priority": 5
      }
    },
    {
      "name": "ntfy-notify",
      "type": "ntfy",
      "config": {
        "serverUrl": "https://ntfy.example.com",
        "topic": "zerobyte-backups",
        "priority": "high",
        "username": "ntfyuser",
        "password": "${NTFY_PASSWORD}"
      }
    },
    {
      "name": "pushover-notify",
      "type": "pushover",
      "config": {
        "userKey": "${PUSHOVER_USER_KEY}",
        "apiToken": "${PUSHOVER_API_TOKEN}",
        "devices": "phone,tablet",
        "priority": 1
      }
    },
    {
      "name": "custom-shoutrrr",
      "type": "custom",
      "config": {
        "shoutrrrUrl": "${SHOUTRRR_URL}"
      }
    }
  ]
}